import { defineConfig } from 'cypress';
import { checkEndpoint, SQLInject, test } from "./src/index.ts";
// Correct import statement
// const checkEndpoint = require('src/index').checkEndpoint()

export default defineConfig({
    e2e: {
        setupNodeEvents(on, config) {
            // configure plugins here.
            on('task', {
                checkEndpoint({ request, method, endpoint, postParams }) {
                    return checkEndpoint(request, method, endpoint, postParams);
                }
            });
            on('task', { SQLInject });
            return config;
        },
        baseUrl: 'http://localhost:3000'
    }
})